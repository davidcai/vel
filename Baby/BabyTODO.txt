
Resources:
- page to view/edit/lock the content of an article. (for author)
- on crawl of resources, need to remove ones that are no longer relevant. Delete all with CreatedDate before crawl start, but only after crawl is complete.
  set crawl automatically every 30 days, sunday at 11p
  Federal object to support setAdHoc property("name", obj) so apps can use it to store setting.
  use this to store last crawl time

automatic cached query using DatabeanStore.cachedQuery(). clear all on remove and store.
Need smarter cache indexing. allowing multiple keys for invalidation. using naming convention with x|y|z.
  convention for db: Table.ColA=ValA|Table.ColB=ValB|Table.ColC=* . Clear on Save (for dirty columns) and Remove (must load object for that).

+ DB: data conversion for persistence should be centralized in separate class: DataTypes
  return Long, String or byte[] + type name
  Also Query to use this class
+ getAllBeanIDs() to be public getAll. allow overriding to control sort order.
  canRemoveBean -> canRemove
+ DataBeanStore registration:
  use DataBeanStore<?>.getInstance().define() rather than returning list to controller.
  but need to init right after init of platform tables: preStart, start, terminate.
  do not define store on the fly. throw exception if attempting to run query on undefined store.
+ createTableDef(name) to return table def linked to THIS store, with "ID" added as UUID column.
  do not let stores call TableDef.newInstance directly.
  remove exceptions of "ID" in DataBeanStore/Util
+ Same for LinkStore

- renderHTMLMobile to call renderHTML by default
- ListViewControl (esp for mobile)
  image/icon, label, main (free rendering), supplemental(right aligned), arrow/link/icon

= Simplify alert timeline.
  - eliminate concept of delay
  - screen to let user choose channels per notif.
  - let admin define defaults per notif type.
  - somehow need to get list of notif types with titles.

+ fix meta data control to support multiple splash screen and webclip icon sizes
= Home page when logged in (PortalPage):
  ? what's on your mind? text box to post to journal
  ? most recent uploaded image + upload control.
  = Last journal entry (image+text)
  ? Nav bar with links to common actions: logout, upload photo, profile, etc.
  ? Show calendar
- support for importing checklists as well: turn UL into checkitems. anything before it as description.
? refactor Scrapbook->Journal, Journal->Notes

- leverage CSS3 transitions for animation effects on (e.g.) mouseover.
  see www.w3schools.com/css3/css3_transitions.asp
  see http://www.mobilerevamp.org/2011/07/02/ios-devices-and-page-transitions/

Content:
- Run UTF8 conversion
- Install Notepad++ for Andi
- Figure out what to do with TABLEs

? Have multiple "sections" for Info articles depending on source of article. Healthy Beginnings, Healthy Kids, etc.
  can add a column/property on Article table for "source".

- Horizontal navigation (tab):
  ? render tabs upside down
  - set Fixed to top. need solid bg. Padding at bottom should not be fixed.
  - error message to show below navigation

= GoBACK:
  = when pushing on stack, check history.length. if same as during prev push, may indicate that the browser's back button was pressed.
    pop the stack until current window.location.pathname == top of stack (typically 1 if back pressed) instead of pushing on top of it
    not necessarily correct. history.length can remain the same if pressed back, then forward.
  = GoBackPage: need to redirect to SELF if BACK stack is empty. when can this happen? after clearing BACK stack? 
    GoBackOrSaveRedirectException
    SaveRedirectException
  = Improve goback redirection: page with JS is slow and flickers
    - always post the top of the stack in a _back_ param.
    - when doing a GoBack redirection, redirect to that URL instead of to the GoBack page.
      - pass param to the page to pop the stack accordingly. _backpop_ or similar.
  = (0) Doesn't work well with page params. See Info tab after changing stage dropdown.
= Redo iPhone UI:
  - support for ... MORE in tab bar if there are too many tabs
  - MENU button to work like in Gmail/FB apps: slide the body to the left, reveal menu underneath. possibly hide tabbar.
  - don't show MENU button if nav bar is empty (i.e. no options).
  - need place to show Login/Logout, Register, Help.
  - need place for Settings/profile link. Also in web UI. See facebook's dropdown corner menu.
  - TwoCol: round cornered group of elements. see http://www.diffen.com/difference/Capex_vs_Opex for nice style
    support > links for rows.
    - Reimplement Profile page as list of properties with links to edit screens. Then no need for Profile Tab. but then, where to place link to settings? under name of user in nav bar?
      use new Back button to return to previous screen
  - action buttons (Save, Cancel) should be fixed to top/bottom (i.e. always visible).
= See usatoday.com for < > tabs that perform smooth page transitions.

PHASE II:

= checklists from earlier stages (preconception, pregnancy): show as faded.
= Implement Search page to search over Info articles, resources.
= Integrate the "Birth plan". It's a document the mother should fill out and send to her doctor.
  can be done electronically, or printed/mailed to doctor.
- compressed "upload only" version of image upload control: don't show thumbnail, don't show "upload new", size.
  allow to pass in the imagesize spec string for the thumbnail. Can then make it 32x32.
= ArticleStore: caching for all queries. Clear after save/remove.
= Better UI for controls on iPhone, esp. the rounded corner rects with > arrows
- kick counter tool:
  - integrate into measures (link to the tool)
  - better design
  - May need to redo because kicks are counted on several min basis. (how long to reach 10 kicks)
- Design logo: iPhone webclip icons + splash images for all device sizes.
= iPhone native notifs 
= Appointment reminders - send notif

DAVID:
= fix "res/icons" folder. Keep only important icons. Rename them and org in "/actions" folder. remove all other icons.
  need various sizes: 16, 24, 32, 48 with X2 for all
= organize tab icons into "/tabs". size to be 48 with X2
= print capability of the journal. or export to PDF.
  design "notebook" style for journal. lines, margins, etc.
x check/refine printed messages when no results (journal entries, gallery, articles, checklists, etc.)
- separate Day and TimeOfDay input controls to return Day and TimeOfDay
  - drop downs when not supported natively.
  - allow setting step for TimeOfDay (1min, 5min, 15min, 30min, 60min)
  - auto adjust max days of month dropdown (jan 31, feb 28/29, etc.)
  - getParameterDateTime("day", "time", tz) to return Date
  - in appointments, use Day+TimeOfDay controls instead of custom dropdowns. print time zone.
x validate use of timezones, esp. with mother.getEstimatedPregnancyStage
= Use the ControlArray for the BabiesPage to add/remove babies.
- Calendar page: list/day/month views like in pink pad.



FUTURE IDEAS:

- Promote books for sale on Amazon. Collect commission via Amazon Associates program (approx 7%)
  as simple as publishing article with link to Amazon
- Discussion forums tab.
- Count hits on popular articles.
- Ratings of articles (5 star system), comments.
- Tool for calculating time between contractions

INTERNAL MESSAGING:
+ InternalMessages table: id, subject, fromUserID, toUserID, date created, read flag, important flag, content (html), attachments, threadID.
+ Compose new msg page.
  + typeahed for users
  + prevent sending to same user more than once
+ Multiple recipients: need InternalMessageRecipients table with InternalMessageID (ownedby), RecipientUserID (refers to), DeletedFlag.
- View message
  - show conversation/thread trail, including outgoing msgs. excluding deleted msgs.
  + show sender + avatar, recipient list, subject, date
  + validate user is on recipient list
  + links/icons to reply/reply all/forward
  + blockquote should be styled
  - option to delete one msg in thread.
- FFpage functionality later.
  - option to restrict recipient typeahead
  - support dynamic content as element of msg (via iframe?). then can have action buttons and use as My eLert Wall.
- Inbox page.
  - render in conversation view.
    - date should be of last incoming msg (not deleted)
    - title should exclude the "Re:" or "Fwd:".
    - num should be total msg count in thread, including outgoing, but not deleted ones.
  - option to render as Wall with bubbles
  - option to render in chronological view
+ Notifications (SMS, voice, email): "you have a message on My eLert, login to view"
= Admin AdHoc page: add "Inbox" as option. No need to send out notifs.
- Internal msg to be added as channel to timeline.
- Where to place link to inbox?

= Leverage foreign keys with optionally ON DELETE CASCADE to keep references in DB.
  create the FK's in controller startup
  remove the DB events (onBeforeSave, etc.)
  see http://stackoverflow.com/questions/6260688/sql-server-cascade-delete
  MAY NOT WORK because when deleting beans, we also need to clear caches

 leverage HTML application cache (manifest)
 
