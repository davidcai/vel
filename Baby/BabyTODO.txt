Healthy Beginnings baby article to always show first. (pin to top)

HB article editor:
- change FROM, TO timeline dropdowns from discrete week# to preset stages (e.g. "week 6-10", "week 10-12")

Resources:
- page to view/edit/lock the content of an article. (for author)
- on crawl of resources, need to remove ones that are no longer relevant. Delete all with CreatedDate before crawl start, but only after crawl is complete.
  set crawl automatically every 30 days

ArticleStore: caching for all queries. Clear after save/remove.
automatic cached query using DatabeanStore.cachedQuery(). clear all on remove and store.
Need smarter cache indexing. allowing multiple keys for invalidation. using naming convention with x|y|z.
  convention for db: Table.ColA=ValA|Table.ColB=ValB|Table.ColC=* . Clear on Save (for dirty columns) and Remove (must load object for that).

Info list pages (HB, resources):
- Search box or tab.

- iPhone desktop + splash icons for all device sizes.
  fix meta data control to support multiple images
= Home page when logged in (PortalPage):
  + when logged in, do not add the Master tab, but rather the HomeTab with the Portal page. House icon.
    or redirect to PortalPage, or find way to hide the bg image of the babies (hard code #middle background-image:none !important in source)
  + for MasterTab, if logged in on a smartphone, return the House icon instead of the logo.
  + title at top of page: Stage status: "Not yet pregnant", "Week 6, 56 days to go." "David is 6 weeks old".
  + link to stage page: "Are you pregnant?" "Did you give birth?"
  + Don't hide navbar if logged in. same as #middle
  + pinned articles
  + links to relevant articles for current stage. arrow > to take to article.
  + Calendar. click to take to DayPage
    + highlight Due date, delivery date.
    + let implementors append CSS class to a cell
    + check cell highlighting in Chrome
  + list of incomplete checklists with 4/6 complete indicator. arrow > to take to checklist screen with # in url
  + next appointment with link
  ? what's on your mind? text box to post to journal
  ? most recent uploaded image + upload control.
  = Last journal entry (image+text)
  = Nav bar with links to common actions: logout, upload photo, profile, etc.
  = Calendar
+ Import of HB articles from ZIP file
+ simplify import articles. remove phase 2. print report of what was imported with links to edit pages.
+ Platform: checkboxes need to post a shadow hidden var and check it to know if to take initial value or not. using SESSION param is incorrect.
+ list page of HB articles to break/sort articles by unique week range tuple. show all, no paging.
+ SearchPage, but without functionality.
= (4) check mother.getPregnancyStage method impl by David
- (0) governor home screen: show stats (num article per section,city, etc.) with links to relevant screens.
= (1) need way to post/import articles to appointments.
  - "Section" dropdown in article input forms.
  - Show section in list page
  - Retitle page to Articles.
  - Retitle section "HB" to "Your pregnancy"

- Calendar. click to take to DayPage
  - highlight Due date, delivery date.
  - icons for data points (checklist, images, journal entries, etc.)
  - Show on portal page

- TopBarControl
  - check rendering on all projects (My eLert, MMM, Samoyan)
  - check IE7 on desktop

- Horizontal navigation (tab):
  ? render tabs upside down
  - set Fixed to top. Padding at bottom should not be fixed.

= (3) GoBACK:
  = when pushing on stack, check history.length. if same as during prev push, may indicate that the browser's back button was pressed.
    esp. if window.location.pathname is same as that in BACK history at n-1 (before push).
  = GoBackPage: need to redirect to SELF if BACK stack is empty. when can this happen? after clearing BACK stack? 
    GoBackOrSaveRedirectException
    SaveRedirectException
  = Improve goback redirection: page with JS is slow and flickers
    - always post the top of the stack in a _back_ param.
    - when doing a GoBack redirection, redirect to that URL instead of to the GoBack page.
    - pass param to the page to pop the stack accordingly. _backpop_ or similar. 
= Redo iPhone UI:
  - support for ... MORE in tab bar if there are too many tabs
  = when pressing MENU button, hide tabbar, menu icon. change BACK button functionality to restore.
  - don't show MENU button if nav bar is empty (i.e. no options). ?but there will be always the default options.
  - need place to show Login/Logout, Register, Help.
  - need place for Settings/profile link. Also in web UI. See facebook's dropdown corner menu.
  - TwoCol: round cornered group of elements. see http://www.diffen.com/difference/Capex_vs_Opex for nice style
    support > links for rows.
    - Reimplement Profile page as list of properties with links to edit screens. Then no need for Profile Tab. but then, where to place link to settings? under name of user in nav bar?
      use new Back button to return to previous screen
  - action buttons (Save, Cancel) should be fixed to top/bottom (i.e. always visible).

brent feedback:
journal: timeline across the top
pinkpad app calendar with icons: day, month, list views.
categories for articles. can then let user browser by category.

= checklists from earlier stages (preconception, pregnancy): show as faded.

Integrate the "Birth plan". It's a document the mother should fill out and send to her doctor.
can be done electronically, or printed/mailed to doctor.

print capability of the journal. or export to PDF.
design "notebook" style for journal. lines, margins, etc.

kick counter: special screen with timer of 60 seconds to help mom count. button counter.

compressed "upload only" version of image upload control: don't show thumbnail, don't show "upload new", size.
allow to pass in the imagesize spec string for the thumbnail. Can then make it 32x32.

Future ideas:
- Promote books for sale on Amazon. Collect commission via Amazon Associates program (approx 7%)
  as simple as publishing article with link to Amazon
- Discussion forums tab.
- Count hits on popular articles.
- Ratings of articles (5 star system), comments.


INTERNAL MESSAGING:
+ InternalMessages table: id, subject, fromUserID, toUserID, date created, read flag, important flag, content (html), attachments, threadID.
+ Compose new msg page.
  + typeahed for users
  + prevent sending to same user more than once
+ Multiple recipients: need InternalMessageRecipients table with InternalMessageID (ownedby), RecipientUserID (refers to), DeletedFlag.
- View message
  - show conversation/thread trail, including outgoing msgs. excluding deleted msgs.
  + show sender + avatar, recipient list, subject, date
  + validate user is on recipient list
  + links/icons to reply/reply all/forward
  + blockquote should be styled
  - option to delete one msg in thread.
- FFpage functionality later.
  - option to restrict recipient typeahead
  - support dynamic content as element of msg (via iframe?). then can have action buttons and use as My eLert Wall.
- Inbox page.
  - render in conversation view.
    - date should be of last incoming msg (not deleted)
    - title should exclude the "Re:" or "Fwd:".
    - num should be total msg count in thread, including outgoing, but not deleted ones.
  - option to render as Wall with bubbles
  - option to render in chronological view
+ Notifications (SMS, voice, email): "you have a message on My eLert, login to view"
= Admin AdHoc page: add "Inbox" as option. No need to send out notifs.
- Internal msg to be added as channel to timeline.
- Where to place link to inbox?

= fix "res/icons" folder. Keep only important icons. Rename them and org in "standard" folder. remove all other icons.

= Leverage foreign keys with optionally ON DELETE CASCADE to keep references in DB.
  create the FK's in controller startup
  remove the DB events (onBeforeSave, etc.)
  see http://stackoverflow.com/questions/6260688/sql-server-cascade-delete

  